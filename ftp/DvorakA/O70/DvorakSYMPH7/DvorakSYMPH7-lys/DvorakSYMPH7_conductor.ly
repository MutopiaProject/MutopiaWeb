%{
  ***********************************************************************
  * Dvořák - Symphony nr 7                                              *
  *                                                                     *
  * encodage par J.F. Lucarelli                                         *
  * 18/11/12 - 01/11/2013                                               *
  * Ver 0.0 : 04/09/2013                                                *
  * Ver 1.0 : 01/11/2013                                                *
  *                                                                     *
  * Symphonie n°7 : Conductrice                                         *
  *                                                                     *
  * *******************************                                     *
  * *   Fichier principal         *                                     *
  * *******************************                                     *
  *                                                                     *
  ***********************************************************************
%}

\include "Common/Version.ly"
\include "Common/Fonctions.ly"

% #(set-default-paper-size "a4")

\include "Common/Paper-conductor.ly"
\include "Common/Variables.ly"

aII = ^\markup {\bold a2}
aIIP = ^\markup {}

\include "Common/Declarations.ly"
\include "Common/Dimension-conductor.ly"

\include "DvorakSYMPH7M1/DvorakSYMPH7M1_Tempi.ly"	% tempi

\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Flauto_G_I_II.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Oboe_G_I_II.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Clarinetto_G_I_II.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Fagotto_G_I_II.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Corno_G_I_II.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Corno_G_III_IV.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Tromba_G_I_II.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Trombone_G_I_II.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Trombone_III.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Timpani.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Violino_I.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Violino_II.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Viola.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Violoncello.ly"
\include "DvorakSYMPH7M1/DvorakSYMPH7M1_musique-Contrabasso.ly"

\include "DvorakSYMPH7M1/DvorakSYMPH7M1_Staves.ly"

\include "DvorakSYMPH7M2/DvorakSYMPH7M2_Tempi.ly"	% tempi

\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Flauto_G_I_II.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Oboe_G_I_II.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Clarinetto_G_I_II.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Fagotto_G_I_II.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Corno_G_I_II.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Corno_G_III_IV.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Tromba_G_I_II.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Trombone_G_I_II.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Trombone_III.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Timpani.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Violino_I.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Violino_II.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Viola.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Violoncello.ly"
\include "DvorakSYMPH7M2/DvorakSYMPH7M2_musique-Contrabasso.ly"

\include "DvorakSYMPH7M2/DvorakSYMPH7M2_Staves.ly"

\include "DvorakSYMPH7M3/DvorakSYMPH7M3_Tempi.ly"	% tempi

\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Flauto_G_I_II.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Piccolo.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Oboe_G_I_II.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Clarinetto_G_I_II.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Fagotto_G_I_II.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Corno_G_I_II.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Corno_G_III_IV.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Tromba_G_I_II.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Timpani.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Violino_I.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Violino_II.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Viola.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-VioloncelloI.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-VioloncelloII.ly"
\include "DvorakSYMPH7M3/DvorakSYMPH7M3_musique-Contrabasso.ly"

\include "DvorakSYMPH7M3/DvorakSYMPH7M3_Staves.ly"

\include "DvorakSYMPH7M4/DvorakSYMPH7M4_Tempi.ly"	% tempi

\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Flauto_G_I_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Flauto_G_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Oboe_G_I_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Clarinetto_G_I_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Fagotto_G_I_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Corno_G_I_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Corno_G_III_IV.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Tromba_G_I_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Trombone_G_I_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Trombone_III.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Timpani.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Violino_I.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Violino_II.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Viola.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Violoncello.ly"
\include "DvorakSYMPH7M4/DvorakSYMPH7M4_musique-Contrabasso.ly"

\include "DvorakSYMPH7M4/DvorakSYMPH7M4_Staves.ly"

\include "Common/Couverture-conductor.ly"

Footer = \markup {\raise #3 \abs-fontsize #8 \hspace #70 {\thisCatalogIdentification " "  \thisRevision}}

\book {

  % Couverture

  \bookpart {
    \CouvertureA
  }

  % Page blanche

  \bookpart {
    \paper {
      print-page-number = ##f
    }
    \markup {\null}
  }

  % Table des matières

  \bookpart {
    \paper {
      print-page-number = ##f
    }
    \PageToc
  }

  % Orchestration

  \bookpart {
    \paper {
      print-page-number = ##f
    }
    \PageOrch
  }

  % Remarques éditoriales

  \bookpart {
    \paper {
      print-page-number = ##t
    }
    \EditorialRemark
  }

  % Page blanche

  \bookpart {
    \paper {
      print-page-number = ##f
    }
    \markup {\null}
  }

  % Mouvements

  \bookpart {
    % autoriser les headers et footers
    \paper {
      print-page-number = ##t
      oddFooterMarkup = \Footer
      evenFooterMarkup = \Footer
    }

    \include "DvorakSYMPH7M1/DvorakSYMPH7M1_Titre_Pri.ly"	% titres

    \label #'MvmtI
    \score {
      \keepWithTag #'conductorScore
      <<
        \new StaffGroup
        <<
          \staffSgMaFlautoIAII
          \staffSgMaOboeIAII
          \staffSgMaClarinettoIAII
          \staffSgMaFagottoIAII
        >>
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMaCornoIAII
            \staffSgMaCornoIIIAIV
          >>
          \staffSgMaTrombaIAII
          \new GrandStaff
          <<
            \staffSgMaTromboneIAII
            \staffSgMaTromboneIII
          >>
        >>
        \staffSgMaTimpani
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMaViolinoI
            \staffSgMaViolinoII
          >>
          \staffSgMaViola
          \staffSgMaVioloncello
          \staffSgMaContrabasso
        >>
      >>

      \layout {
        \context {
          \Score
          \override BarLine #'layer = #-4
        }
        \context {
          \Staff
          \override BarLine #'layer = #-4
        }
        \context {
          \Voice
          \override TextScript #'whiteout = ##t
          \override TextScript #'layer = #4
          \override DynamicText #'whiteout = ##t
          \override DynamicText #'layer = #4
          \override DynamicTextSpanner #'whiteout = ##t
          \override DynamicTextSpanner #'layer = #4
        }
      }
      \midi {}
    }
  }

  \bookpart {
    \paper {
      print-page-number = ##t
      oddFooterMarkup = \Footer
      evenFooterMarkup = \Footer
    }
    \header {
      title = " "
      subtitle = " "
      composer = " "
      opus = " "
      subsubtitle = \markup {\center-column {\fontsize #6 \lower #10 "-- II --"}}
      copyright = " "
    }
    \label #'MvmtII
    \score {
      \keepWithTag #'conductorScore
      <<
        \new StaffGroup
        <<
          \staffSgMbFlautoIAII
          \staffSgMbOboeIAII
          \staffSgMbClarinettoIAII
          \staffSgMbFagottoIAII
        >>
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMbCornoIAII
            \staffSgMbCornoIIIAIV
          >>
          \staffSgMbTrombaIAII
          \new GrandStaff
          <<
            \staffSgMbTromboneIAII
            \staffSgMbTromboneIII
          >>
        >>
        \staffSgMbTimpani
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMbViolinoI
            \staffSgMbViolinoII
          >>
          \staffSgMbViola
          \staffSgMbVioloncello
          \staffSgMbContrabasso
        >>
      >>

      \layout {
        \context {
          \Score
          \override BarLine #'layer = #-4
        }
        \context {
          \Staff
          \override BarLine #'layer = #-4
        }
        \context {
          \Voice
          \override TextScript #'whiteout = ##t
          \override TextScript #'layer = #4
          \override DynamicText #'whiteout = ##t
          \override DynamicText #'layer = #4
          \override DynamicTextSpanner #'whiteout = ##t
          \override DynamicTextSpanner #'layer = #4
        }
      }
      \midi {}
    }
  }

  \bookpart {
    \paper {
      print-page-number = ##t
      oddFooterMarkup = \Footer
      evenFooterMarkup = \Footer
    }
    \header {
      title = " "
      subtitle = " "
      composer = " "
      opus = " "
      subsubtitle = \markup {\center-column {\fontsize #6 \lower #10 "-- III --"}}
      copyright = " "
    }
    \label #'MvmtIII
    \score {
      \keepWithTag #'conductorScore
      <<
        \new StaffGroup
        <<
          % Flûtes : dédoublée pendant 3 mesures pour remplacement par le piccolo
          \new GrandStaff
          <<
            \staffSgMcFlautoIAII
            \staffSgMcPiccolo
          >>
          \staffSgMcOboeIAII
          \staffSgMcClarinettoIAII
          \staffSgMcFagottoIAII
        >>
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMcCornoIAII
            \staffSgMcCornoIIIAIV
          >>
          \staffSgMcTrombaIAII
        >>
        \staffSgMcTimpani
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMcViolinoI
            \staffSgMcViolinoII
          >>
          \staffSgMcViola
          \new GrandStaff
          <<
            % Violoncelles : comprennent temporairement deux parties.
            \staffSgMcVioloncelloI
            \staffSgMcVioloncelloII
          >>
          \staffSgMcContrabasso
        >>
      >>

      \layout {
        % Violoncelles : comprennent temporairement deux parties. Il faut masquer les portées vides ailleurs,
        % et restaurer la visibilité des autres portées vides (via le fichier staves.ly)
        % Flûtes : comprennent temporairement deux parties. Il faut masquer les portées vides ailleurs,
        % et restaurer la visibilité des autres portées vides (via le fichier staves.ly)
        \context {
          \RemoveEmptyStaffContext
          \override VerticalAxisGroup #'remove-first = ##t
        }
        \context {
          \Score
          \override BarLine #'layer = #-4
        }
        \context {
          \Staff
          \override BarLine #'layer = #-4
        }
        \context {
          \Voice
          \override TextScript #'whiteout = ##t
          \override TextScript #'layer = #4
          \override DynamicText #'whiteout = ##t
          \override DynamicText #'layer = #4
          \override DynamicTextSpanner #'whiteout = ##t
          \override DynamicTextSpanner #'layer = #4
        }
      }
      \midi {}
    }
  }

  \bookpart {
    \paper {
      print-page-number = ##t
      oddFooterMarkup = \Footer
      evenFooterMarkup = \Footer
    }
    \header {
      title = " "
      subtitle = " "
      composer = " "
      opus = " "
      subsubtitle = \markup {\center-column {\fontsize #6 \lower #10 "-- IV --"}}
      copyright = " "
    }
    \label #'MvmtIV
    \score {
      \keepWithTag #'conductorScore
      <<
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMdFlautoIAII
            \staffSgMdFlautoIIB
          >>
          \staffSgMdOboeIAII
          \staffSgMdClarinettoIAII
          \staffSgMdFagottoIAII
        >>
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMdCornoIAII
            \staffSgMdCornoIIIAIV
          >>
          \staffSgMdTrombaIAII
          \new GrandStaff
          <<
            \staffSgMdTromboneIAII
            \staffSgMdTromboneIII
          >>
        >>
        \staffSgMdTimpani
        \new StaffGroup
        <<
          \new GrandStaff
          <<
            \staffSgMdViolinoI
            \staffSgMdViolinoII
          >>
          \staffSgMdViola
          \staffSgMdVioloncello
          \staffSgMdContrabasso
        >>
      >>

      \layout {
        % Flûtes : comprennent temporairement deux parties. Il faut masquer les portées vides ailleurs,
        % et restaurer la visibilité des autres portées vides (via le fichier staves.ly)
        \context {
          \RemoveEmptyStaffContext
          \override VerticalAxisGroup #'remove-first = ##t
        }
        \context {
          \Score
          \override BarLine #'layer = #-4
        }
        \context {
          \Staff
          \override BarLine #'layer = #-4
        }
        \context {
          \Voice
          \override TextScript #'whiteout = ##t
          \override TextScript #'layer = #4
          \override DynamicText #'whiteout = ##t
          \override DynamicText #'layer = #4
          \override DynamicTextSpanner #'whiteout = ##t
          \override DynamicTextSpanner #'layer = #4
        }
      }
      \midi {}
    }
  }

  % suppression de la \tagline, elle est comprise dans la couverture D
  \header {
    tagline = ##f
  }

  % Pages blanches éventuelle - il faut arriver à un multiple de 2
  \bookpart {
    \paper {
      print-page-number = ##f
    }
    \markup {\null}
  }

  % Couverture 3

  \bookpart {
    \paper {
      % Pas d'encadrement, cadrage constitué par les marges
      print-page-number = ##f
    }
    \CouvertureC
  }

  % Page blanche
  \bookpart {
    \paper {
      print-page-number = ##f
    }
    \markup {\null}
  }

  % Couverture 4

  \bookpart {
    \paper {
      print-page-number = ##f
    }
    \CouvertureD
  }
}
